@page
@model XmlConverter.Web.Pages.EmployeesModel

<div style="display: flex; gap: 16px;">
    <div style="flex: 1; border: 1px solid #ddd; padding: 16px; border-radius: 8px; display: flex; flex-direction: column; gap: 16px;">
        @if (Model.EmployeesType != XmlConverter.Web.XmlValidators.EmployersData.EmployeesDataType.Data2)
        {
            <div style="border: 1px solid #eee; padding: 12px; border-radius: 8px;">
                <h4 style="margin-top: 0;">Add item</h4>
                <form method="post" asp-page-handler="Append">
                    <div style="display: grid; gap: 8px;">
                        <input placeholder="name" asp-for="Name" />
                        <input placeholder="surname" asp-for="Surname" />
                        <input placeholder="amount" asp-for="Amount" />
                        <input placeholder="month" asp-for="Month" />
                    </div>
                    <button type="submit" style="margin-top: 12px;">Submit</button>
                </form>
            </div>
        }

        <div style="border: 1px solid #eee; padding: 12px; border-radius: 8px;">
            <h4 style="margin-top: 0;">Source data</h4>
            <pre style="white-space: pre-wrap; word-break: break-word;">@Model.SourceXml</pre>
        </div>
    </div>

    <div style="flex: 1; border: 1px solid #ddd; padding: 16px; border-radius: 8px;">
        <h4>Converted data</h4>
        @if (Model.Employees.Count == 0)
        {
            <p>No data.</p>
        }
        else
        {
            @foreach (var employee in Model.Employees)
            {
                <div style="margin-bottom: 12px;">
                    <strong>Сотрудник:</strong> @employee.Name @employee.Surname
                    <div style="margin-left: 12px;">
                        @foreach (var salary in employee.Salaries)
                        {
                            <div>— @salary.Month: @salary.Amount</div>
                        }
                    </div>
                </div>
            }
        }
    </div>
</div>
